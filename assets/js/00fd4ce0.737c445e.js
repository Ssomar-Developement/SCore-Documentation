"use strict";(self.webpackChunkscore_documentation=self.webpackChunkscore_documentation||[]).push([[425],{5519:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"executablecrafting/process_recipe_crafting","title":"Crafting Process Recipe","description":"Refer to vayk.executablecrafting.events.CraftingTableListener","source":"@site/docs/executablecrafting/process_recipe_crafting.md","sourceDirName":"executablecrafting","slug":"/executablecrafting/process_recipe_crafting","permalink":"/SCore-Documentation/docs/executablecrafting/process_recipe_crafting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/executablecrafting/process_recipe_crafting.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"ExecutableCrafting","previous":{"title":"Intro","permalink":"/SCore-Documentation/docs/executablecrafting/intro"},"next":{"title":"Furnace Recipes","permalink":"/SCore-Documentation/docs/category/furnace-recipes"}}');var r=i(4848),s=i(8453);const c={sidebar_position:1},o="Crafting Process Recipe",a={},l=[{value:"onInventoryClick()",id:"oninventoryclick",level:2},{value:"Check conditions",id:"check-conditions",level:3},{value:"Check if inventory is <code>CraftingInventory</code>",id:"check-if-inventory-is-craftinginventory",level:4},{value:"Then typecast it as CraftingInventory",id:"then-typecast-it-as-craftinginventory",level:4},{value:"Check if the slot of the event is 0",id:"check-if-the-slot-of-the-event-is-0",level:4},{value:"Then get the result of the craft",id:"then-get-the-result-of-the-craft",level:4},{value:"If result is null/AIR, return",id:"if-result-is-nullair-return",level:4},{value:"Get matrix details of the recipe",id:"get-matrix-details-of-the-recipe",level:3},{value:"Then get the instance of RecipeCrafting to check if it has a recipe related to it",id:"then-get-the-instance-of-recipecrafting-to-check-if-it-has-a-recipe-related-to-it",level:3},{value:"If no such recipe is found, return",id:"if-no-such-recipe-is-found-return",level:4},{value:"\ud83d\udcdd Note down the details of the RecipeCrafting instance",id:"-note-down-the-details-of-the-recipecrafting-instance",level:3},{value:"\ud83d\udcdd Note down if the event is done via <code>Shift+Click</code>",id:"-note-down-if-the-event-is-done-via-shiftclick",level:3},{value:"\ud83d\udcdd Note down if the recipe is shapeless",id:"-note-down-if-the-recipe-is-shapeless",level:3},{value:"\ud83d\udcdd Note down the amount of crafted item",id:"-note-down-the-amount-of-crafted-item",level:3},{value:"\ud83d\udcdd Note down the item that ended up in the cursor",id:"-note-down-the-item-that-ended-up-in-the-cursor",level:3},{value:"If clicked item is not air and shift click is not performed",id:"if-clicked-item-is-not-air-and-shift-click-is-not-performed",level:3},{value:"If the following conditions are met, cancel event and return.",id:"if-the-following-conditions-are-met-cancel-event-and-return",level:4},{value:"Start Processing the recipe",id:"start-processing-the-recipe",level:3},{value:"If shapeless, utilize <code>processShapelessRecipe()</code> method",id:"if-shapeless-utilize-processshapelessrecipe-method",level:4},{value:"Return if processing fails",id:"return-if-processing-fails",level:5}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"crafting-process-recipe",children:"Crafting Process Recipe"})}),"\n",(0,r.jsxs)(t.p,{children:["Refer to ",(0,r.jsx)(t.code,{children:"vayk.executablecrafting.events.CraftingTableListener"})]}),"\n",(0,r.jsx)(t.h2,{id:"oninventoryclick",children:"onInventoryClick()"}),"\n",(0,r.jsx)(t.p,{children:"The method itself"}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:"The next following headers are all about checks.\r\nFeel free to read one at a time and then forget since retaining it in your\r\nmind is obsolete for now."})}),"\n",(0,r.jsx)(t.h3,{id:"check-conditions",children:"Check conditions"}),"\n",(0,r.jsxs)(t.h4,{id:"check-if-inventory-is-craftinginventory",children:["Check if inventory is ",(0,r.jsx)(t.code,{children:"CraftingInventory"})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Use the .getInventory() method to get the Inventory instance of the event\r\nthen check if that instance is an instance of CraftingInventory. Otherwise, return"}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"then-typecast-it-as-craftinginventory",children:"Then typecast it as CraftingInventory"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"CraftingInventory is a class of bukkit."}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"Interface to the crafting inventories\n"})}),"\n",(0,r.jsx)(t.h4,{id:"check-if-the-slot-of-the-event-is-0",children:"Check if the slot of the event is 0"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"To make sure that the method only processes the result slot which is 0"}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"then-get-the-result-of-the-craft",children:"Then get the result of the craft"}),"\n",(0,r.jsx)(t.h4,{id:"if-result-is-nullair-return",children:"If result is null/AIR, return"}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:"Checks are about done over here so start\r\nretaining information from here on"})}),"\n",(0,r.jsx)("hr",{}),"\n",(0,r.jsx)(t.h3,{id:"get-matrix-details-of-the-recipe",children:"Get matrix details of the recipe"}),"\n",(0,r.jsx)(t.p,{children:"Then it gets checked if its a 2x2 or not"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"boolean is2x2Grid = (craftingGrid.length == 4);\n"})}),"\n",(0,r.jsx)(t.h3,{id:"then-get-the-instance-of-recipecrafting-to-check-if-it-has-a-recipe-related-to-it",children:"Then get the instance of RecipeCrafting to check if it has a recipe related to it"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"inventory.getMatrix()"})," returns the matrix container in an array of ItemStack objects.\r\nThen it searches through the ",(0,r.jsx)(t.code,{children:"RecipeCrafting"})," instance if such recipe is loaded in the /ExecutableCrafting/recipes/ folder."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"RecipeCrafting"})," is a class from ExecutableCrafting that handles the .yml files loaded in the recipes folder and more."]}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"if-no-such-recipe-is-found-return",children:"If no such recipe is found, return"}),"\n",(0,r.jsx)(t.h3,{id:"-note-down-the-details-of-the-recipecrafting-instance",children:"\ud83d\udcdd Note down the details of the RecipeCrafting instance"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"Note down the details of the RecipeCrafting instance"})}),"\n",(0,r.jsxs)(t.h3,{id:"-note-down-if-the-event-is-done-via-shiftclick",children:["\ud83d\udcdd Note down if the event is done via ",(0,r.jsx)(t.code,{children:"Shift+Click"})]}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"Note down the boolean value of isShiftClick"})}),"\n",(0,r.jsx)(t.h3,{id:"-note-down-if-the-recipe-is-shapeless",children:"\ud83d\udcdd Note down if the recipe is shapeless"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"Note down the boolean value of isShapeless"})}),"\n",(0,r.jsx)(t.h3,{id:"-note-down-the-amount-of-crafted-item",children:"\ud83d\udcdd Note down the amount of crafted item"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"From the source code, .getAmount() is assumed to be the way to properly get the amount."}),"\n",(0,r.jsx)(t.li,{children:"There seems to be something that's failing the method above which caused the developer to use this code when dealing\r\nwith shift+click crafts:"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"if (isShiftClick) craftedAmount = customRecipe.isValidGrid(craftingGrid, is2x2Grid, true)*craftedAmount;\n"})}),"\n",(0,r.jsx)(t.h3,{id:"-note-down-the-item-that-ended-up-in-the-cursor",children:"\ud83d\udcdd Note down the item that ended up in the cursor"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"Note down the ItemStack value of clickedItem"})}),"\n",(0,r.jsx)(t.h3,{id:"if-clicked-item-is-not-air-and-shift-click-is-not-performed",children:"If clicked item is not air and shift click is not performed"}),"\n",(0,r.jsx)(t.h4,{id:"if-the-following-conditions-are-met-cancel-event-and-return",children:"If the following conditions are met, cancel event and return."}),"\n",(0,r.jsx)(t.p,{children:"The purpose of this if statement is to block"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Clicked item is not similar to the custom recipe's supposed item"}),"\n",(0,r.jsx)(t.li,{children:"Clicked item's stack count is beyond 64"}),"\n",(0,r.jsxs)(t.li,{children:["Clicked item's amount + crafted amount is greater than 64","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Sample Scenario: Cursor has 33 stone and resulting craft has 32 stone. That leads to 65 stone in total"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"start-processing-the-recipe",children:"Start Processing the recipe"}),"\n",(0,r.jsxs)(t.h4,{id:"if-shapeless-utilize-processshapelessrecipe-method",children:["If shapeless, utilize ",(0,r.jsx)(t.code,{children:"processShapelessRecipe()"})," method"]}),"\n",(0,r.jsx)(t.h5,{id:"return-if-processing-fails",children:"Return if processing fails"}),"\n",(0,r.jsx)(t.p,{children:"To be continued in writing...."})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>c,x:()=>o});var n=i(6540);const r={},s=n.createContext(r);function c(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);