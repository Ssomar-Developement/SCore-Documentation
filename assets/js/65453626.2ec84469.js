"use strict";(globalThis.webpackChunkscore_documentation=globalThis.webpackChunkscore_documentation||[]).push([[4570],{2268:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"executableitems/processes/build_ei_itemstack","title":"Building an ItemStack from an EI Item Config","description":"Class: com.ssomar.executableitems.executableitems.ExecutableItem","source":"@site/docs/executableitems/processes/build_ei_itemstack.md","sourceDirName":"executableitems/processes","slug":"/executableitems/processes/build_ei_itemstack","permalink":"/SCore-Documentation/docs/executableitems/processes/build_ei_itemstack","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/executableitems/processes/build_ei_itemstack.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"ExecutableItems","previous":{"title":"Import ItemStack Settings to EI","permalink":"/SCore-Documentation/docs/executableitems/processes/import_itemstack_settings"}}');var s=i(4848),a=i(8453);const r={sidebar_position:2},o="Building an ItemStack from an EI Item Config",c={},m=[{value:"Q: What code handles the item meta of the ItemStack?",id:"q-what-code-handles-the-item-meta-of-the-itemstack",level:2},{value:"A: When creating a new ExecutableItemObject and running the build() method, it will run the refresh() method",id:"a-when-creating-a-new-executableitemobject-and-running-the-build-method-it-will-run-the-refresh-method",level:3}];function l(e){const t={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"building-an-itemstack-from-an-ei-item-config",children:"Building an ItemStack from an EI Item Config"})}),"\n",(0,s.jsxs)(t.p,{children:["Class: ",(0,s.jsx)(t.code,{children:"com.ssomar.executableitems.executableitems.ExecutableItem"}),(0,s.jsx)(t.br,{}),"\n","Method: ",(0,s.jsx)(t.code,{children:"public ItemStack buildItem(int quantity, Optional<Player> playerOpt, Optional<Integer> usageOpt, Optional<ItemStack> itemStackOpt, Map<String, String> variables, Map<String, Object> settings)"})]}),"\n",(0,s.jsx)(t.p,{children:"Upon reading the code of this method, it answers some specific questions you may have."}),"\n",(0,s.jsxs)(t.admonition,{type:"info",children:[(0,s.jsx)(t.h2,{id:"q-what-code-handles-the-item-meta-of-the-itemstack",children:"Q: What code handles the item meta of the ItemStack?"}),(0,s.jsx)(t.h3,{id:"a-when-creating-a-new-executableitemobject-and-running-the-build-method-it-will-run-the-refresh-method",children:"A: When creating a new ExecutableItemObject and running the build() method, it will run the refresh() method"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"ExecutableItemObject ei = new ExecutableItemObject(item, this, ownerUUID, usage);\r\nitem = ei.build();\n"})}),(0,s.jsxs)(t.p,{children:["Method: ",(0,s.jsx)(t.code,{children:"com.ssomar.executableitems.executableitems.ExecutableItemObject#refresh"})]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"@Override\r\npublic ItemStack refresh(List<ResetSetting> resetSettings) {\r\n    // Applies the usage settings to the itemstack\r\n    if (resetSettings.contains(ResetSetting.USAGE))\r\n        this.internalData.setUsage(config.getUsageFeatures().getUsage().getValue().get());\r\n\r\n    // Sets the item's material type\r\n    if (SCore.is1v20v5Plus() && resetSettings.contains(ResetSetting.MATERIAL)) {\r\n        item.setType(config.getMaterial().getValue().get());\r\n    }\r\n\r\n    // Start building the item meta with the values provided by the item config\r\n    // If you're looking for the code that's responsible for example, goat horn instrument, check the refreshMeta() method's code\r\n    DynamicMeta meta = new DynamicMeta(item.getItemMeta());\r\n    this.refreshMeta(meta, resetSettings);\r\n\r\n    /* No meta refreshs */\r\n    if (resetSettings.contains(ResetSetting.DURABILITY)) {\r\n        if (SCore.is1v13Less()) this.refreshDurability1v13less();\r\n    }\r\n    this.refreshPotionSettings();\r\n    this.refreshNbtTags();\r\n    //}\r\n    return item;\r\n}\n"})}),(0,s.jsx)(t.p,{children:"If you want to investigate the code that's responsible for inserting item meta\r\nto the ItemStack of the spawned/given ei item, this is the place."})]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var n=i(6540);const s={},a=n.createContext(s);function r(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);